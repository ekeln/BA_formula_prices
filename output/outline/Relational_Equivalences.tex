%
\begin{isabellebody}%
\setisabellecontext{Relational{\isacharunderscore}{\kern0pt}Equivalences}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
\isacommand{context}\isamarkupfalse%
\ lts\isanewline
\isakeyword{begin}%
\begin{isamarkuptext}%
Introduce these definitions later?%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{abbreviation}\isamarkupfalse%
\ traces\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacartoucheopen}{\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ list\ set{\isacartoucheclose}\ \isakeyword{where}\isanewline
{\isacartoucheopen}traces\ p\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}tr{\isachardot}{\kern0pt}\ {\isasymexists}p{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ p\ {\isasymmapsto}{\isachardollar}{\kern0pt}\ tr\ p{\isacharprime}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacartoucheclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ all{\isacharunderscore}{\kern0pt}traces\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ list\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
{\isachardoublequoteopen}all{\isacharunderscore}{\kern0pt}traces\ {\isasymequiv}{\isacharbraceleft}{\kern0pt}tr{\isachardot}{\kern0pt}\ {\isasymexists}p\ p{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ p\ {\isasymmapsto}{\isachardollar}{\kern0pt}\ tr\ p{\isacharprime}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{inductive}\isamarkupfalse%
\ paths{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacartoucheopen}{\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ list\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ bool{\isacartoucheclose}\ \isakeyword{where}\isanewline
{\isacartoucheopen}paths\ p\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ p{\isacartoucheclose}\ {\isacharbar}{\kern0pt}\isanewline
{\isacartoucheopen}paths\ p\ {\isacharparenleft}{\kern0pt}a{\isacharhash}{\kern0pt}as{\isacharparenright}{\kern0pt}\ p{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacartoucheclose}\ \isakeyword{if}\ {\isachardoublequoteopen}{\isasymexists}{\isasymalpha}{\isachardot}{\kern0pt}\ p\ {\isasymmapsto}\ {\isasymalpha}\ a\ {\isasymand}\ {\isacharparenleft}{\kern0pt}paths\ a\ as\ p{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ path{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}seq{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ A{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}xs{\isachardot}{\kern0pt}\ paths\ p\ xs\ p{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}ys{\isachardot}{\kern0pt}\ p\ {\isasymmapsto}{\isachardollar}{\kern0pt}\ ys\ p{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ A{\isadigit{1}}\ \isacommand{obtain}\isamarkupfalse%
\ xs\ \isakeyword{where}\ {\isachardoublequoteopen}paths\ p\ xs\ p{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}ys{\isachardot}{\kern0pt}\ p\ {\isasymmapsto}{\isachardollar}{\kern0pt}\ ys\ p{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ local{\isachardot}{\kern0pt}paths{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ q\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}q\ {\isasymmapsto}{\isachardollar}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ q{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ step{\isacharunderscore}{\kern0pt}sequence{\isachardot}{\kern0pt}intros{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}ys{\isachardot}{\kern0pt}\ q\ {\isasymmapsto}{\isachardollar}{\kern0pt}\ ys\ q{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ exI{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ p\ a\ as\ p{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ A{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}{\isasymalpha}{\isachardot}{\kern0pt}\ p\ {\isasymmapsto}{\isasymalpha}\ a\ {\isasymand}\ paths\ a\ as\ p{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymexists}ys{\isachardot}{\kern0pt}\ a\ {\isasymmapsto}{\isachardollar}{\kern0pt}\ ys\ p{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ ys\ {\isasymalpha}\ \isakeyword{where}\ A{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymmapsto}{\isachardollar}{\kern0pt}\ ys\ p{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ A{\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}p\ {\isasymmapsto}{\isasymalpha}\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}p\ {\isasymmapsto}{\isachardollar}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymalpha}{\isacharhash}{\kern0pt}ys{\isacharparenright}{\kern0pt}\ p{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ step{\isacharunderscore}{\kern0pt}sequence{\isachardot}{\kern0pt}intros{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}ys{\isachardot}{\kern0pt}\ p\ {\isasymmapsto}{\isachardollar}{\kern0pt}\ ys\ p{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ exI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}path{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ A{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}ys{\isachardot}{\kern0pt}\ p\ {\isasymmapsto}{\isachardollar}{\kern0pt}\ ys\ p{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}xs{\isachardot}{\kern0pt}\ paths\ p\ xs\ p{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ A{\isadigit{1}}\ \isacommand{obtain}\isamarkupfalse%
\ ys\ \isakeyword{where}\ {\isachardoublequoteopen}p\ {\isasymmapsto}{\isachardollar}{\kern0pt}\ ys\ p{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}xs{\isachardot}{\kern0pt}\ paths\ p\ xs\ p{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ step{\isacharunderscore}{\kern0pt}sequence{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ p\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}paths\ p\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ p{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ paths{\isachardot}{\kern0pt}intros{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}xs{\isachardot}{\kern0pt}\ paths\ p\ xs\ p{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ exI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ p\ a\ rt\ p{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}p{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ p\ {\isasymmapsto}a\ p{\isacharprime}{\kern0pt}\ {\isasymand}\ p{\isacharprime}{\kern0pt}\ {\isasymmapsto}{\isachardollar}{\kern0pt}\ rt\ p{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymexists}xs{\isachardot}{\kern0pt}\ paths\ p{\isacharprime}{\kern0pt}\ xs\ p{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ p{\isacharprime}{\kern0pt}\ xs\ \isakeyword{where}\ {\isachardoublequoteopen}p\ {\isasymmapsto}a\ p{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}paths\ p{\isacharprime}{\kern0pt}\ xs\ p{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}paths\ p\ {\isacharparenleft}{\kern0pt}p{\isacharprime}{\kern0pt}{\isacharhash}{\kern0pt}xs{\isacharparenright}{\kern0pt}\ p{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ paths{\isachardot}{\kern0pt}intros{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}xs{\isachardot}{\kern0pt}\ paths\ p\ xs\ p{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ exI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Trace preorder as inclusion of trace sets%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ trace{\isacharunderscore}{\kern0pt}preordered\ {\isacharparenleft}{\kern0pt}\isakeyword{infix}\ {\isacartoucheopen}{\isasymlesssim}T{\isacartoucheclose}\ {\isadigit{6}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\isakeyword{where}\isanewline
{\isacartoucheopen}trace{\isacharunderscore}{\kern0pt}preordered\ p\ q\ {\isasymequiv}\ traces\ p\ {\isasymsubseteq}\ traces\ q{\isacartoucheclose}%
\begin{isamarkuptext}%
Trace equivalence as mutual preorder%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{abbreviation}\isamarkupfalse%
\ trace{\isacharunderscore}{\kern0pt}equivalent\ {\isacharparenleft}{\kern0pt}\isakeyword{infix}\ {\isacartoucheopen}{\isasymsimeq}T{\isacartoucheclose}\ {\isadigit{6}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\isanewline
{\isacartoucheopen}p\ {\isasymsimeq}T\ q\ {\isasymequiv}\ p\ {\isasymlesssim}T\ q\ {\isasymand}\ q\ {\isasymlesssim}T\ p{\isacartoucheclose}%
\begin{isamarkuptext}%
Trace preorder is transitive%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ T{\isacharunderscore}{\kern0pt}trans{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isacartoucheopen}transp\ {\isacharparenleft}{\kern0pt}{\isasymlesssim}T{\isacharparenright}{\kern0pt}{\isacartoucheclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ transp{\isacharunderscore}{\kern0pt}def\ trace{\isacharunderscore}{\kern0pt}preordered{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Failure Pairs%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{abbreviation}\isamarkupfalse%
\ failure{\isacharunderscore}{\kern0pt}pairs\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacartoucheopen}{\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ list\ {\isasymtimes}\ {\isacharprime}{\kern0pt}a\ set{\isacharparenright}{\kern0pt}\ set{\isacartoucheclose}\isanewline
\ \ \isakeyword{where}\isanewline
{\isacartoucheopen}failure{\isacharunderscore}{\kern0pt}pairs\ p\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}xs{\isacharcomma}{\kern0pt}\ F{\isacharparenright}{\kern0pt}{\isacharbar}{\kern0pt}xs\ F{\isachardot}{\kern0pt}\ {\isasymexists}p{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ p\ {\isasymmapsto}{\isachardollar}{\kern0pt}\ xs\ p{\isacharprime}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}initial{\isacharunderscore}{\kern0pt}actions\ p{\isacharprime}{\kern0pt}\ {\isasyminter}\ F\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacartoucheclose}%
\begin{isamarkuptext}%
Failure preorder and -equivalence%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ failure{\isacharunderscore}{\kern0pt}preordered\ {\isacharparenleft}{\kern0pt}\isakeyword{infix}\ {\isacartoucheopen}{\isasymlesssim}F{\isacartoucheclose}\ {\isadigit{6}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\isanewline
{\isacartoucheopen}p\ {\isasymlesssim}F\ q\ {\isasymequiv}\ failure{\isacharunderscore}{\kern0pt}pairs\ p\ {\isasymsubseteq}\ failure{\isacharunderscore}{\kern0pt}pairs\ q{\isacartoucheclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ failure{\isacharunderscore}{\kern0pt}equivalent\ {\isacharparenleft}{\kern0pt}\isakeyword{infix}\ {\isacartoucheopen}{\isasymsimeq}F{\isacartoucheclose}\ {\isadigit{6}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\isanewline
{\isacartoucheopen}\ p\ {\isasymsimeq}F\ q\ {\isasymequiv}\ p\ {\isasymlesssim}F\ q\ {\isasymand}\ q\ {\isasymlesssim}F\ p{\isacartoucheclose}%
\begin{isamarkuptext}%
Possible future sets%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{abbreviation}\isamarkupfalse%
\ possible{\isacharunderscore}{\kern0pt}future{\isacharunderscore}{\kern0pt}pairs\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacartoucheopen}{\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ list\ {\isasymtimes}\ {\isacharprime}{\kern0pt}a\ list\ list{\isacharparenright}{\kern0pt}\ set{\isacartoucheclose}\isanewline
\ \ \isakeyword{where}\isanewline
{\isacartoucheopen}possible{\isacharunderscore}{\kern0pt}future{\isacharunderscore}{\kern0pt}pairs\ p\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}xs{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isacharbar}{\kern0pt}xs\ X{\isachardot}{\kern0pt}\ {\isasymexists}p{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ p\ {\isasymmapsto}{\isachardollar}{\kern0pt}\ xs\ p{\isacharprime}{\kern0pt}\ {\isasymand}\ traces\ p{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ X{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacartoucheclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ possible{\isacharunderscore}{\kern0pt}futures{\isacharunderscore}{\kern0pt}equivalent\ {\isacharparenleft}{\kern0pt}\isakeyword{infix}\ {\isacartoucheopen}{\isasymsimeq}PF{\isacartoucheclose}\ {\isadigit{6}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\isanewline
{\isacartoucheopen}p\ {\isasymsimeq}PF\ q\ {\isasymequiv}\ {\isacharparenleft}{\kern0pt}possible{\isacharunderscore}{\kern0pt}future{\isacharunderscore}{\kern0pt}pairs\ p\ {\isacharequal}{\kern0pt}\ possible{\isacharunderscore}{\kern0pt}future{\isacharunderscore}{\kern0pt}pairs\ q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ PF{\isacharunderscore}{\kern0pt}trans{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}transp\ {\isacharparenleft}{\kern0pt}{\isasymsimeq}PF{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ possible{\isacharunderscore}{\kern0pt}futures{\isacharunderscore}{\kern0pt}equivalent{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ transp{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
isomorphism%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ isomorphism\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacartoucheopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ bool{\isacartoucheclose}\ \isakeyword{where}\isanewline
{\isacartoucheopen}isomorphism\ f\ {\isasymequiv}\ bij\ f\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}p\ a\ p{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ p\ {\isasymmapsto}\ a\ p{\isacharprime}{\kern0pt}\ {\isasymlongleftrightarrow}\ f\ p\ {\isasymmapsto}\ a\ {\isacharparenleft}{\kern0pt}f\ p{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacartoucheclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}isomorphic\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacartoucheopen}{\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ bool{\isacartoucheclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{infix}\ {\isacartoucheopen}{\isasymsimeq}ISO{\isacartoucheclose}\ {\isadigit{6}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\isanewline
{\isacartoucheopen}p\ {\isasymsimeq}ISO\ q\ {\isasymequiv}\ {\isasymexists}f{\isachardot}{\kern0pt}\ isomorphism\ f\ {\isasymand}\ {\isacharparenleft}{\kern0pt}f\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ q{\isacartoucheclose}%
\begin{isamarkuptext}%
Two states are simulation preordered if they can be related by
  a simulation relation. (Implied by isometry.)%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ simulation\isanewline
\ \ \isakeyword{where}\ {\isacartoucheopen}simulation\ R\ {\isasymequiv}\isanewline
\ \ \ \ {\isasymforall}p\ q\ a\ p{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ p\ {\isasymmapsto}\ a\ p{\isacharprime}{\kern0pt}\ {\isasymand}\ R\ p\ q\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}q{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ q\ {\isasymmapsto}\ a\ q{\isacharprime}{\kern0pt}\ {\isasymand}\ R\ p{\isacharprime}{\kern0pt}\ q{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacartoucheclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ simulated{\isacharunderscore}{\kern0pt}by\ {\isacharparenleft}{\kern0pt}\isakeyword{infix}\ {\isacartoucheopen}{\isasymlesssim}S{\isacartoucheclose}\ {\isadigit{6}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeyword{where}\ {\isacartoucheopen}p\ {\isasymlesssim}S\ q\ {\isasymequiv}\ {\isasymexists}R{\isachardot}{\kern0pt}\ R\ p\ q\ {\isasymand}\ simulation\ R{\isacartoucheclose}%
\begin{isamarkuptext}%
Two states are bisimilar if they can be related by a symmetric simulation.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ bisimilar\ {\isacharparenleft}{\kern0pt}\isakeyword{infix}\ {\isacartoucheopen}{\isasymsimeq}B{\isacartoucheclose}\ {\isadigit{8}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\isanewline
\ \ {\isacartoucheopen}p\ {\isasymsimeq}B\ q\ {\isasymequiv}\ {\isasymexists}R{\isachardot}{\kern0pt}\ simulation\ R\ {\isasymand}\ symp\ R\ {\isasymand}\ R\ p\ q{\isacartoucheclose}%
\begin{isamarkuptext}%
Bisimilarity is a simulation.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ bisim{\isacharunderscore}{\kern0pt}sim{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isacartoucheopen}simulation\ {\isacharparenleft}{\kern0pt}{\isasymsimeq}B{\isacharparenright}{\kern0pt}{\isacartoucheclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ bisimilar{\isacharunderscore}{\kern0pt}def\ simulation{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/Documents/Isabelle_HOL/Relational_Equivalences.thy%:%
%:%15=8%:%
%:%18=9%:%
%:%19=9%:%
%:%20=10%:%
%:%22=11%:%
%:%24=13%:%
%:%25=13%:%
%:%26=14%:%
%:%27=15%:%
%:%28=16%:%
%:%29=16%:%
%:%30=17%:%
%:%31=18%:%
%:%32=19%:%
%:%33=19%:%
%:%34=20%:%
%:%35=21%:%
%:%36=22%:%
%:%37=23%:%
%:%38=23%:%
%:%39=24%:%
%:%40=25%:%
%:%47=26%:%
%:%48=26%:%
%:%49=27%:%
%:%50=27%:%
%:%51=27%:%
%:%52=27%:%
%:%53=28%:%
%:%54=28%:%
%:%55=28%:%
%:%56=29%:%
%:%57=29%:%
%:%58=30%:%
%:%59=30%:%
%:%60=31%:%
%:%61=31%:%
%:%62=31%:%
%:%63=31%:%
%:%64=32%:%
%:%65=32%:%
%:%66=32%:%
%:%67=32%:%
%:%68=33%:%
%:%69=33%:%
%:%70=34%:%
%:%71=34%:%
%:%72=35%:%
%:%73=35%:%
%:%74=36%:%
%:%75=36%:%
%:%76=36%:%
%:%77=37%:%
%:%78=37%:%
%:%79=38%:%
%:%80=38%:%
%:%81=38%:%
%:%82=38%:%
%:%83=39%:%
%:%84=39%:%
%:%85=40%:%
%:%86=40%:%
%:%87=40%:%
%:%88=40%:%
%:%89=41%:%
%:%90=41%:%
%:%91=42%:%
%:%97=42%:%
%:%100=43%:%
%:%101=44%:%
%:%102=44%:%
%:%103=45%:%
%:%104=46%:%
%:%111=47%:%
%:%112=47%:%
%:%113=48%:%
%:%114=48%:%
%:%115=48%:%
%:%116=48%:%
%:%117=49%:%
%:%118=49%:%
%:%119=49%:%
%:%120=50%:%
%:%121=50%:%
%:%122=51%:%
%:%123=51%:%
%:%124=52%:%
%:%125=52%:%
%:%126=52%:%
%:%127=52%:%
%:%128=53%:%
%:%129=53%:%
%:%130=53%:%
%:%131=53%:%
%:%132=54%:%
%:%133=54%:%
%:%134=55%:%
%:%135=55%:%
%:%136=56%:%
%:%137=56%:%
%:%138=57%:%
%:%139=57%:%
%:%140=57%:%
%:%141=57%:%
%:%142=58%:%
%:%143=58%:%
%:%144=58%:%
%:%145=58%:%
%:%146=58%:%
%:%147=59%:%
%:%148=59%:%
%:%149=59%:%
%:%150=59%:%
%:%151=60%:%
%:%152=60%:%
%:%153=61%:%
%:%163=63%:%
%:%165=65%:%
%:%166=65%:%
%:%167=66%:%
%:%169=68%:%
%:%171=70%:%
%:%172=70%:%
%:%173=71%:%
%:%175=73%:%
%:%177=75%:%
%:%178=75%:%
%:%179=76%:%
%:%182=77%:%
%:%186=77%:%
%:%187=77%:%
%:%188=77%:%
%:%197=79%:%
%:%199=81%:%
%:%200=81%:%
%:%201=82%:%
%:%202=83%:%
%:%204=85%:%
%:%206=87%:%
%:%207=87%:%
%:%208=88%:%
%:%209=89%:%
%:%210=90%:%
%:%211=90%:%
%:%212=91%:%
%:%214=93%:%
%:%216=95%:%
%:%217=95%:%
%:%218=96%:%
%:%219=97%:%
%:%220=98%:%
%:%221=99%:%
%:%222=99%:%
%:%223=100%:%
%:%224=101%:%
%:%225=102%:%
%:%226=102%:%
%:%229=103%:%
%:%233=103%:%
%:%234=103%:%
%:%235=104%:%
%:%236=104%:%
%:%245=106%:%
%:%247=108%:%
%:%248=108%:%
%:%249=109%:%
%:%250=110%:%
%:%251=111%:%
%:%252=111%:%
%:%253=112%:%
%:%255=114%:%
%:%256=115%:%
%:%258=117%:%
%:%259=117%:%
%:%260=118%:%
%:%261=119%:%
%:%262=120%:%
%:%263=121%:%
%:%264=121%:%
%:%265=122%:%
%:%267=124%:%
%:%269=126%:%
%:%270=126%:%
%:%271=127%:%
%:%273=129%:%
%:%275=131%:%
%:%276=131%:%
%:%277=132%:%
%:%280=133%:%
%:%284=133%:%
%:%285=133%:%
%:%286=133%:%
%:%291=133%:%
%:%294=134%:%
%:%295=135%:%
%:%296=136%:%
%:%297=136%:%
%:%304=137%:%
